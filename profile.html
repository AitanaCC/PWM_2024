<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/products.css">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" />
    <title>Perfil</title>
    <style>
        .info-container{
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            flex-direction: column; /* Asegura que los elementos se apilen verticalmente */
            align-items: center; /* Centra los elementos horizontalmente */
        }

        .profile-container {
            background: #2F4F4F; /* Fondo oscuro */
            width: 80%;
            max-width: 800px; /* Ajusta este valor según necesites */
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            border-radius: 8px;
            border: 1px solid black;
            padding: 20px;
            box-sizing: border-box;
            margin-top: 20px; /* Añade un margen en la parte superior si es necesario */
        }

        .profile-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            color: white;
        }

        .profile-picture {
            background: url('./img/icons8-user-50.png') no-repeat center;
            background-size: cover;
            border-radius: 50%;
            width: 2cm; /* 2x2 cm */
            height: 2cm; /* 2x2 cm */
            border: 2px solid white; /* Black border */
        }

        .profile-info {
            background: white; /* White background for data sections */
            border: 1px solid black; /* Black border */
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 10px;
        }

        .profile-info span {
            font-weight: bold;
            margin-right: 5px;
        }

        .profile-info div {
            margin-bottom: 5px;
        }

        button {
            padding: 10px 20px;
            border: 1px solid black;
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
        }

        button:hover {
            opacity: 0.8;
        }
    </style>
</head>
<body>

<header id="header">
</header>

<div id="sidebar-container"></div>
<div class="info-container">
    <div class="profile-container">
        <div class="profile-header">
            <h1>Perfil del Usuario</h1>
            <div class="profile-picture"></div>
        </div>
        <div class="profile-info">
            <div><span>Nombre de usuario:</span> tuNombre</div>
        </div>
        <div class="profile-info">
            <div><span>Nombre:</span> name</div>
        </div>
        <div class="profile-info">
            <div><span>Apellido:</span> apellido1 apellido2</div>
        </div>
        <div class="profile-info">
            <div><span>Email:</span> tuEmail@gmail.com</div>
        </div>
        <div class="profile-footer" style="display: flex; justify-content: space-between; margin-top: 20px;">
            <button onclick="window.location.href='index.html'">Atrás</button>
            <button onclick="window.location.href='edit-profile.html'">Editar Datos</button>
        </div>
    </div>
</div>

<div id="footer">
    <div class="footer"></div>
    <div class="footer-right">
        <div id="map" ></div> <!-- Asegúrate de que el mapa tenga una altura definida -->
    </div>
</div>

<script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>
<script src="js/map.js"></script>

<script>
    document.addEventListener('DOMContentLoaded', (event) => {
        loadHTMLAndExecuteScripts('#header', './header.html');
        loadHTMLAndExecuteScripts('#sidebar-container', './sidebar.html');
        loadHTMLAndExecuteScripts('.footer', './footer.html');

        /** SE PUEDE PONER "../ARCHIVO.html" PARA SUBIR UN NIVEL EN LAS CARPETAS Y EJECUTARL0 */

    });

    function loadHTMLAndExecuteScripts(selector, sourceFile) {
        fetch(sourceFile)
            .then(response => response.text())
            .then(html => {
                const container = document.querySelector(selector);
                container.innerHTML = html;

                executeScripts(container);
            })
            .catch(error => console.error('Error loading ' + sourceFile + ':', error));
    }

    function executeScripts(container) {
        const scripts = container.querySelectorAll('script');
        scripts.forEach(script => {
            const scriptTag = document.createElement('script');

            if (script.src) {
                scriptTag.src = script.src;
            } else {
                scriptTag.textContent = script.textContent;
            }

            // Insert script tag into the document to ensure global execution context
            document.head.appendChild(scriptTag).parentNode.removeChild(scriptTag);
        });
    }

    function toggleSidebar() {
        var sidebar = document.getElementById("sidebar");
        var filter = document.getElementById("dark-filter");
        sidebar.classList.toggle("active");

        if (filter.style.display === "none" || filter.style.display === "") {
            filter.style.display = "block";
        } else {
            filter.style.display = "none";
        }
    }
</script>

</body>
</html>
